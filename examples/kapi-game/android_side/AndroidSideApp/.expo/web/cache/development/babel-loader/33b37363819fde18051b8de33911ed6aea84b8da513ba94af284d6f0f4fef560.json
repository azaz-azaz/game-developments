{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar App = function App() {\n  var _useState = useState({\n      x: 0,\n      y: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    joystickPos = _useState2[0],\n    setJoystickPos = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    touchStart = _useState4[0],\n    setTouchStart = _useState4[1];\n  var screenWidth = Dimensions.get('window').width;\n  var screenHeight = Dimensions.get('window').height;\n  var center = {\n    x: screenWidth / 2,\n    y: screenHeight / 2\n  };\n  var radius = 100;\n  var touchCircle = function touchCircle(x, y) {\n    return Math.sqrt((x - center.x) ** 2 + (y - center.y) ** 2) <= radius;\n  };\n  var clamp = function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n  };\n  var touchCirclePosition = function touchCirclePosition(x, y) {\n    return {\n      x: clamp(x, center.x - radius, center.x + radius),\n      y: clamp(y, center.y - radius, center.y + radius)\n    };\n  };\n  var updateJoystick = function updateJoystick(x, y) {\n    if (touchCircle(x, y)) {\n      setJoystickPos(touchCirclePosition(x, y));\n    } else {\n      setJoystickPos({\n        x: center.x,\n        y: center.y\n      });\n    }\n  };\n  useEffect(function () {\n    if (!touchStart) {\n      setJoystickPos({\n        x: center.x,\n        y: center.y\n      });\n    }\n  }, [touchStart]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableWithoutFeedback, {\n      onPressIn: function onPressIn(e) {\n        setTouchStart(true);\n        updateJoystick(e.nativeEvent.locationX, e.nativeEvent.locationY);\n      },\n      onPressOut: function onPressOut(e) {\n        setTouchStart(false);\n      },\n      onPressMove: function onPressMove(e) {\n        updateJoystick(e.nativeEvent.locationX, e.nativeEvent.locationY);\n      },\n      children: _jsx(View, {\n        style: styles.touchArea\n      })\n    }), _jsx(View, {\n      style: [styles.joystick, {\n        left: joystickPos.x,\n        top: joystickPos.y\n      }]\n    }), _jsxs(View, {\n      style: styles.buttonsContainer,\n      children: [_jsx(Button, {\n        title: \"Button 1\",\n        onPress: function onPress() {}\n      }), _jsx(Button, {\n        title: \"Button 2\",\n        onPress: function onPress() {}\n      }), _jsx(Button, {\n        title: \"Button 3\",\n        onPress: function onPress() {}\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF'\n  },\n  touchArea: {\n    width: 200,\n    height: 200,\n    borderRadius: 100,\n    borderWidth: 2,\n    borderColor: 'black'\n  },\n  joystick: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: 'blue',\n    position: 'absolute'\n  },\n  buttonsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    marginTop: 50\n  }\n});\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","StyleSheet","View","Button","TouchableWithoutFeedback","Dimensions","Image","Text","jsx","_jsx","jsxs","_jsxs","App","_useState","x","y","_useState2","_slicedToArray","joystickPos","setJoystickPos","_useState3","_useState4","touchStart","setTouchStart","screenWidth","get","width","screenHeight","height","center","radius","touchCircle","Math","sqrt","clamp","value","min","max","touchCirclePosition","updateJoystick","style","styles","container","children","onPressIn","e","nativeEvent","locationX","locationY","onPressOut","onPressMove","touchArea","joystick","left","top","buttonsContainer","title","onPress","create","flex","justifyContent","alignItems","backgroundColor","borderRadius","borderWidth","borderColor","position","flexDirection","marginTop"],"sources":["C:/my_works/pythonProjects/game-dev-with-git/examples/kapi-game/android_side/AndroidSideApp/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, View, Button, TouchableWithoutFeedback, Dimensions, Image, Text } from 'react-native';\n\nconst App = () => {\n const [joystickPos, setJoystickPos] = useState({ x: 0, y: 0 });\n const [touchStart, setTouchStart] = useState(false);\n const screenWidth = Dimensions.get('window').width;\n const screenHeight = Dimensions.get('window').height;\n const center = { x: screenWidth / 2, y: screenHeight / 2 };\n const radius = 100;\n\n const touchCircle = (x, y) => {\n    return Math.sqrt((x - center.x) ** 2 + (y - center.y) ** 2) <= radius;\n };\n\n const clamp = (value, min, max) => {\n    return Math.min(Math.max(value, min), max);\n };\n\n const touchCirclePosition = (x, y) => {\n    return {\n      x: clamp(x, center.x - radius, center.x + radius),\n      y: clamp(y, center.y - radius, center.y + radius),\n    };\n };\n\n const updateJoystick = (x, y) => {\n    if (touchCircle(x, y)) {\n      setJoystickPos(touchCirclePosition(x, y));\n    } else {\n      setJoystickPos({ x: center.x, y: center.y });\n    }\n };\n\n useEffect(() => {\n    if (!touchStart) {\n      setJoystickPos({ x: center.x, y: center.y });\n    }\n }, [touchStart]);\n\n return (\n    <View style={styles.container}>\n      <TouchableWithoutFeedback\n        onPressIn={(e) => {\n          setTouchStart(true);\n          updateJoystick(e.nativeEvent.locationX, e.nativeEvent.locationY);\n        }}\n        onPressOut={(e) => {\n          setTouchStart(false);\n        }}\n        onPressMove={(e) => {\n          updateJoystick(e.nativeEvent.locationX, e.nativeEvent.locationY);\n        }}\n      >\n        <View style={styles.touchArea} />\n      </TouchableWithoutFeedback>\n      <View style={[styles.joystick, { left: joystickPos.x, top: joystickPos.y }]} />\n      <View style={styles.buttonsContainer}>\n        <Button title=\"Button 1\" onPress={() => {}} />\n        <Button title=\"Button 2\" onPress={() => {}} />\n        <Button title=\"Button 3\" onPress={() => {}} />\n      </View>\n    </View>\n );\n};\n\nconst styles = StyleSheet.create({\n container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n },\n touchArea: {\n    width: 200,\n    height: 200,\n    borderRadius: 100,\n    borderWidth: 2,\n    borderColor: 'black',\n },\n joystick: {\n    width: 50,\n    height: 50,\n    borderRadius: 25,\n    backgroundColor: 'blue',\n    position: 'absolute',\n },\n buttonsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    width: '100%',\n    marginTop: 50,\n },\n});\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}